<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MOVINETCONDE | Tecnolog√≠a & Servicios</title>
    
    <link rel="canonical" href="https://movinetconde.es/" />

    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="icon" href="icon.png" type="image/png" />
    <link rel="apple-touch-icon" href="icon.png" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />

    <style>
        /* --- ESTILOS GENERALES --- */
        :root {
            --primary: #000000;
            --accent: #ff8c00;
            --white: #ffffff;
            --text: #333333;
            --bg-glass: rgba(255, 255, 255, 0.95); 
            --success: #2ecc71;
            --error: #e74c3c;
        }

        body { 
            margin: 0; font-family: 'Montserrat', sans-serif; color: var(--text); background-color: #000; 
            background-image: url('fondo.JPG');
            background-repeat: no-repeat; background-position: center center; background-attachment: fixed; background-size: cover;       
            touch-action: manipulation;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        /* --- SPLASH SCREEN --- */
        #welcome-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center;
            animation: fadeOutUp 1s ease-in-out 2.5s forwards;
        }
        .tech-logo {
            font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 800;
            letter-spacing: 2px; text-transform: uppercase;
            animation: pulseGlow 1.5s infinite alternate;
        }
        .tech-logo span { color: var(--accent); }
        .loader-line {
            width: 0; height: 3px; background: var(--accent); margin-top: 20px;
            animation: loadWidth 2s ease-in-out forwards;
        }
        @keyframes pulseGlow { 0% { text-shadow: 0 0 10px rgba(255,140,0,0.2); } 100% { text-shadow: 0 0 30px rgba(255,140,0,0.8); } }
        @keyframes loadWidth { 0% { width: 0; } 100% { width: 200px; } }
        @keyframes fadeOutUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-100%); pointer-events: none; } }

        /* --- NAVBAR --- */
        .navbar { background: rgba(255, 255, 255, 0.98); padding: 10px 0; position: sticky; top: 0; z-index: 1000; border-bottom: 3px solid var(--accent); }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 15px; display: flex; flex-direction: column; gap: 10px; }
        .nav-top { display: flex; justify-content: space-between; align-items: center; }
        .logo-text { font-size: 1.4rem; font-weight: 800; margin: 0; }
        .logo-text span { color: var(--accent); }
        .nav-icons { display: flex; gap: 15px; }
        .btn-icon { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: var(--primary); }
        
        .nav-menu { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; }
        .menu-btn { background: rgba(255,255,255,0.8); border: none; padding: 8px 15px; border-radius: 20px; font-weight: 600; cursor: pointer; white-space: nowrap; font-size: 0.9rem; transition: 0.3s; }
        .menu-btn.active, .menu-btn:hover { background: var(--accent); color: white; }

        /* --- CONTENEDORES --- */
        .container { 
            max-width: 1200px; margin: 20px auto; padding: 20px; 
            border-radius: 15px; background: var(--bg-glass);
            backdrop-filter: blur(8px); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }
        .hidden { display: none !important; }
        .section-title { text-align: center; color: var(--primary); text-transform: uppercase; margin-bottom: 20px; border-bottom: 2px solid var(--accent); display: inline-block; padding-bottom: 5px; font-weight: 800; }
        .center-wrapper { text-align: center; }

        /* --- GRID HOME --- */
        .home-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        @media (min-width: 768px) { .home-grid { grid-template-columns: repeat(4, 1fr); } }
        .home-card {
            background: rgba(255,255,255,0.9); padding: 25px 15px; border-radius: 15px;
            text-align: center; border: 2px solid rgba(0,0,0,0.05); cursor: pointer;
            transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .home-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .home-icon { font-size: 2.5rem; color: var(--accent); margin-bottom: 10px; }
        .home-title { font-weight: 800; text-transform: uppercase; font-size: 0.9rem; }

        /* --- COMPONENTES --- */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .btn-primary { background: var(--primary); color: white; border: none; padding: 12px; width: 100%; border-radius: 5px; cursor: pointer; font-weight: bold; text-transform: uppercase; margin-top: 5px; font-size: 1rem; transition: 0.3s; }
        .btn-primary:hover { background: var(--accent); }
        .btn-back { background: #eee; border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; margin-bottom: 15px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px; }
        
        /* --- ESTILOS ESPEC√çFICOS --- */
        .product-card { background: white; padding: 15px; border-radius: 10px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .product-photo { width: 100%; height: 200px; object-fit: contain; margin-bottom: 10px; }
        
        .folder-card { background: white; border-radius: 15px; padding: 20px; text-align: center; border: 2px solid #eee; cursor: pointer; }
        .folder-icon { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; border: 2px solid var(--accent); }

        /* --- QUIZ --- */
        .quiz-btn { background: white; border: 2px solid #ddd; padding: 15px; border-radius: 10px; font-size: 1rem; cursor: pointer; width: 100%; margin-bottom: 10px; text-align: left; }
        .quiz-btn:hover { border-color: var(--accent); background: #fff8e1; }
        .quiz-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .quiz-btn.wrong { background: var(--error); color: white; border-color: var(--error); }
        .score-display { font-size: 3rem; color: var(--accent); font-weight: 800; display: block; margin: 20px 0; }

        /* --- MODALES --- */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: flex; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 30px; width: 90%; max-width: 500px; border-radius: 10px; position: relative; max-height: 90vh; overflow-y: auto; }
        .close { position: absolute; top: 10px; right: 20px; font-size: 1.8rem; cursor: pointer; }
        
        /* --- ADMIN PANEL --- */
        .admin-panel { border: 2px dashed var(--accent); background: #fffdf0; }
        .admin-tabs { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 15px; border-bottom: 1px solid #ddd; }
        
        footer { text-align: center; padding: 30px; background: rgba(17,17,17,0.95); color: white; margin-top: 50px; }
        input, textarea, select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
    </style>
</head>
<body>

    <div id="welcome-screen">
        <div class="tech-logo">MOVINET<span>CONDE</span></div>
        <p>CARGANDO SISTEMA...</p>
        <div class="loader-line"></div>
    </div>

    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-top">
                <div class="logo-text">MOVINET<span>CONDE</span></div>
                <div class="nav-icons">
                    <button onclick="gestionarPerfil()" class="btn-icon"><i class="fas fa-user-circle"></i></button>
                    <button onclick="abrirModal('admin-login-modal')" class="btn-icon"><i class="fas fa-lock"></i></button>
                </div>
            </div>
            <div class="nav-menu">
                <button onclick="verSeccion('inicio')" class="menu-btn active" id="btn-inicio">üè† Inicio</button>
                <button onclick="verSeccion('contacto')" class="menu-btn" id="btn-contacto">üìû Contacto</button>
                <button onclick="verSeccion('catalogo')" class="menu-btn" id="btn-catalogo">üì± M√≥viles</button>
                <button onclick="verSeccion('reparaciones')" class="menu-btn" id="btn-reparaciones">üîß Taller</button>
                <button onclick="verSeccion('teleco')" class="menu-btn" id="btn-teleco">üì° Telecom</button>
                <button onclick="verSeccion('pcs')" class="menu-btn" id="btn-pcs">üñ•Ô∏è PC</button>
                <button onclick="verSeccion('patines')" class="menu-btn" id="btn-patines">üõ¥ Patines</button>
                <button onclick="verSeccion('webs')" class="menu-btn" id="btn-webs">üé® Webs</button>
                <button onclick="verSeccion('quiz')" class="menu-btn" id="btn-quiz">‚ùì Quiz</button>
                <button onclick="verSeccion('resenas')" class="menu-btn" id="btn-resenas">‚≠ê Opiniones</button>
            </div>
        </div>
    </nav>

    <div id="sec-inicio" class="container">
        <div class="center-wrapper"><h2 class="section-title">¬øQu√© buscas hoy?</h2></div>
        <div class="home-grid">
            <div class="home-card" onclick="verSeccion('catalogo')"><i class="fas fa-mobile-alt home-icon"></i><div class="home-title">M√≥viles</div></div>
            <div class="home-card" onclick="verSeccion('reparaciones')"><i class="fas fa-tools home-icon"></i><div class="home-title">Taller</div></div>
            <div class="home-card" onclick="verSeccion('teleco')"><i class="fas fa-satellite-dish home-icon"></i><div class="home-title">Fibra/Luz</div></div>
            <div class="home-card" onclick="verSeccion('pcs')"><i class="fas fa-desktop home-icon"></i><div class="home-title">Zona PC</div></div>
            <div class="home-card" onclick="verSeccion('patines')"><i class="fas fa-bolt home-icon"></i><div class="home-title">Patines</div></div>
            <div class="home-card" onclick="verSeccion('quiz')"><i class="fas fa-gamepad home-icon"></i><div class="home-title">Jugar Quiz</div></div>
            <div class="home-card" onclick="verSeccion('contacto')"><i class="fas fa-headset home-icon"></i><div class="home-title">Contacto</div></div>
        </div>
    </div>

    <div id="sec-contacto" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Contacto R√°pido</h2></div>
        <div class="form-box">
            <p style="text-align:center;">Te abrimos WhatsApp directamente.</p>
            <form onsubmit="enviarLead(event, 'Contacto General')">
                <input type="text" id="contactName" placeholder="Nombre" required>
                <button type="submit" class="btn-primary">ABRIR WHATSAPP</button>
            </form>
        </div>
    </div>

    <div id="sec-catalogo" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">M√≥viles Disponibles</h2></div>
        <div id="productos-container" class="grid-container">Cargando...</div>
    </div>

    <div id="sec-reparaciones" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Taller de Reparaci√≥n</h2></div>
        <form onsubmit="enviarLead(event, 'Reparacion Movil')">
            <input type="text" placeholder="Tu Nombre" required>
            <input type="text" placeholder="Modelo del dispositivo" required>
            <textarea placeholder="¬øQu√© le pasa?" required></textarea>
            <button type="submit" class="btn-primary">PEDIR PRESUPUESTO</button>
        </form>
    </div>

    <div id="sec-teleco" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Telecomunicaciones</h2></div>
        <div id="teleco-folders-view">
            <div id="folders-container" class="grid-container" style="grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));">Cargando carpetas...</div>
        </div>
        <div id="teleco-offers-view" class="hidden">
            <button class="btn-back" onclick="volverACarpetas()">‚¨Ö Volver</button>
            <h3 id="current-folder-title">Ofertas</h3>
            <div id="offers-container" class="grid-container"></div>
        </div>
    </div>

    <div id="sec-pcs" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Zona PC</h2></div>
        <div style="text-align:center;">
            <h3>Reparaci√≥n y Montaje</h3>
            <p>Describe tu problema o qu√© PC quieres montar.</p>
            <form onsubmit="enviarLead(event, 'Zona PC')">
                <textarea placeholder="Ej: Quiero un PC Gaming por 800‚Ç¨..." rows="4" required></textarea>
                <button type="submit" class="btn-primary">CONSULTAR EXPERTO</button>
            </form>
        </div>
    </div>

    <div id="sec-patines" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Taller Patines</h2></div>
        <form onsubmit="enviarLead(event, 'Reparacion Patin')">
            <input type="text" placeholder="Modelo Pat√≠n (Ej: Xiaomi)" required>
            <textarea placeholder="Aver√≠a (Rueda pinchada, no enciende...)" required></textarea>
            <button type="submit" class="btn-primary">CONSULTAR PRECIO</button>
        </form>
    </div>

    <div id="sec-webs" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Dise√±o Web</h2></div>
        <div id="webs-container" class="grid-container">Cargando dise√±os...</div>
    </div>

    <div id="sec-quiz" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Trivia Tech</h2></div>
        <div id="quiz-wrapper" style="text-align:center;">
            <div id="quiz-start">
                <i class="fas fa-brain" style="font-size: 4rem; color: var(--accent); margin-bottom: 20px;"></i>
                <p>¬øCu√°nto sabes de tecnolog√≠a?</p>
                <button class="btn-primary" onclick="iniciarJuego()">¬°JUGAR AHORA!</button>
            </div>
            
            <div id="quiz-game" class="hidden">
                <h3 id="questionText" style="margin-bottom:20px;">Pregunta...</h3>
                <div id="optionsList"></div>
            </div>
            
            <div id="quiz-result" class="hidden">
                <h3>¬°Juego Terminado!</h3>
                <p>Tu puntuaci√≥n final:</p>
                <span id="finalScore" class="score-display">0</span>
                <button class="btn-primary" onclick="iniciarJuego()">Jugar otra vez</button>
            </div>
        </div>
    </div>

    <div id="sec-resenas" class="container hidden">
        <div class="center-wrapper"><h2 class="section-title">Opiniones</h2></div>
        <div id="reviews-container" class="grid-container">Cargando...</div>
        <button class="btn-primary" onclick="alert('Funcionalidad pr√≥ximamente')">Dejar Rese√±a</button>
    </div>

    <div id="admin-login-modal" class="modal hidden">
        <div class="modal-content" style="text-align:center;">
            <span class="close" onclick="cerrarModal('admin-login-modal')">&times;</span>
            <h3>Zona Admin</h3>
            <input type="password" id="adminPassInput" placeholder="Contrase√±a">
            <button onclick="verificarAdmin()" class="btn-primary">Entrar</button>
        </div>
    </div>

    <div id="admin-panel" class="container hidden admin-panel">
        <h2>Panel de Control</h2>
        <div class="admin-tabs">
            <button onclick="verAdminTab('teleco')">Teleco</button>
            <button onclick="verAdminTab('productos')">Productos</button>
        </div>
        
        <div id="admin-tab-teleco">
            <h4>A√±adir Carpeta Teleco</h4>
            <form id="addFolderForm">
                <input type="text" id="folderName" placeholder="Nombre Carpeta" required>
                <input type="text" id="folderImgUrl" placeholder="URL Imagen (Opcional)">
                <button type="submit" class="btn-primary">Crear Carpeta</button>
            </form>
            <hr>
            <h4>A√±adir Oferta</h4>
            <form id="addOfferForm">
                <select id="offerFolderSelect"><option>Cargando...</option></select>
                <input type="text" id="offerTitle" placeholder="T√≠tulo Oferta" required>
                <input type="number" id="offerPrice" placeholder="Precio" required>
                <button type="submit" class="btn-primary">Crear Oferta</button>
            </form>
        </div>
        <button onclick="document.getElementById('admin-panel').classList.add('hidden')" style="margin-top:20px;">Cerrar Panel</button>
    </div>

    <footer>
        <p>&copy; 2025 MOVINETCONDE</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <script>
        // 1. CONFIGURACI√ìN FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyAO9sshvU5zUf_S9d12toWwrioeXBonlRc",
            authDomain: "movinet-conde-web.firebaseapp.com",
            projectId: "movinet-conde-web",
            appId: "1:867268264562:web:f28e33585cdcde3d8e78eb"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        const MI_TELEFONO = "34613509309"; 

        // 2. VARIABLES GLOBALES
        let telecomFolders = [];
        
        // DATOS DEL QUIZ (Por si Firebase falla, usamos estos por defecto)
        const defaultQuestions = [
            { question: "¬øQu√© significa CPU?", options: ["Central Processing Unit", "Computer Personal Unit", "Central Power Unit"], correct: 0 },
            { question: "¬øCu√°l es el sistema operativo de Apple?", options: ["Android", "iOS", "Windows"], correct: 1 },
            { question: "¬øQu√© componente almacena datos a largo plazo?", options: ["RAM", "Disco Duro", "Ventilador"], correct: 1 },
            { question: "¬øQu√© es 5G?", options: ["5 Gigas", "Quinta Generaci√≥n de Red", "5 Google"], correct: 1 }
        ];
        let currentQuestionIndex = 0;
        let score = 0;

        // 3. FUNCIONES DE NAVEGACI√ìN
        function verSeccion(id) {
            // Ocultar todas las secciones
            document.querySelectorAll('.container').forEach(el => el.classList.add('hidden'));
            // Mostrar la elegida
            const seccion = document.getElementById('sec-' + id);
            if(seccion) seccion.classList.remove('hidden');
            
            // Actualizar men√∫ activo
            document.querySelectorAll('.menu-btn').forEach(btn => btn.classList.remove('active'));
            const btnActivo = document.getElementById('btn-' + id);
            if(btnActivo) btnActivo.classList.add('active');

            // Cargas bajo demanda
            if(id === 'teleco') cargarCarpetasTeleco();
            if(id === 'catalogo') cargarProductos();
        }

        function abrirModal(id) { document.getElementById(id).classList.remove('hidden'); }
        function cerrarModal(id) { document.getElementById(id).classList.add('hidden'); }

        // 4. L√ìGICA DEL QUIZ (¬°ARREGLADA!)
        function iniciarJuego() {
            currentQuestionIndex = 0;
            score = 0;
            document.getElementById('quiz-start').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('quiz-game').classList.remove('hidden');
            mostrarPregunta();
        }

        function mostrarPregunta() {
            const q = defaultQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerText = q.question;
            const lista = document.getElementById('optionsList');
            lista.innerHTML = '';
            
            q.options.forEach((opcion, index) => {
                const btn = document.createElement('button');
                btn.className = 'quiz-btn';
                btn.innerText = opcion;
                btn.onclick = () => verificarRespuesta(index);
                lista.appendChild(btn);
            });
        }

        function verificarRespuesta(index) {
            const q = defaultQuestions[currentQuestionIndex];
            const botones = document.querySelectorAll('.quiz-btn');
            
            if(index === q.correct) {
                botones[index].classList.add('correct');
                score++;
            } else {
                botones[index].classList.add('wrong');
                botones[q.correct].classList.add('correct'); // Mostrar la correcta
            }

            // Esperar un poco y pasar a la siguiente
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < defaultQuestions.length) {
                    mostrarPregunta();
                } else {
                    finalizarJuego();
                }
            }, 1500);
        }

        function finalizarJuego() {
            document.getElementById('quiz-game').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('finalScore').innerText = score + "/" + defaultQuestions.length;
        }

        // 5. L√ìGICA TELECO Y PRODUCTOS
        function cargarCarpetasTeleco() {
            const container = document.getElementById('folders-container');
            container.innerHTML = "Cargando...";
            
            db.collection("telecom_carpetas").get().then(snap => {
                container.innerHTML = "";
                const selectAdmin = document.getElementById('offerFolderSelect');
                if(selectAdmin) selectAdmin.innerHTML = "";

                if(snap.empty) {
                    container.innerHTML = "<p>No hay categor√≠as disponibles.</p>";
                    return;
                }

                snap.forEach(doc => {
                    const data = doc.data();
                    const id = doc.id;
                    // Vista Usuario
                    container.innerHTML += `
                        <div class="folder-card" onclick="verOfertas('${id}', '${data.nombre}')">
                            <div style="font-size:30px;">üìÇ</div>
                            <h3>${data.nombre}</h3>
                        </div>`;
                    // Select Admin
                    if(selectAdmin) selectAdmin.innerHTML += `<option value="${id}">${data.nombre}</option>`;
                });
            }).catch(e => {
                console.error(e);
                container.innerHTML = "Error al cargar datos.";
            });
        }

        function verOfertas(folderId, nombreCarpeta) {
            document.getElementById('teleco-folders-view').classList.add('hidden');
            document.getElementById('teleco-offers-view').classList.remove('hidden');
            document.getElementById('current-folder-title').innerText = nombreCarpeta;
            
            const container = document.getElementById('offers-container');
            container.innerHTML = "Cargando ofertas...";

            db.collection("telecom_ofertas").where("folderId", "==", folderId).get().then(snap => {
                container.innerHTML = "";
                if(snap.empty) { container.innerHTML = "<p>No hay ofertas aqu√≠.</p>"; return; }
                
                snap.forEach(doc => {
                    const o = doc.data();
                    container.innerHTML += `
                        <div class="product-card">
                            <h3>${o.titulo}</h3>
                            <p class="price">${o.precio}‚Ç¨</p>
                            <button class="btn-primary" onclick="window.open('https://wa.me/${MI_TELEFONO}?text=Me interesa la oferta ${o.titulo}')">LO QUIERO</button>
                        </div>`;
                });
            });
        }

        function volverACarpetas() {
            document.getElementById('teleco-offers-view').classList.add('hidden');
            document.getElementById('teleco-folders-view').classList.remove('hidden');
        }

        function cargarProductos() {
            const c = document.getElementById('productos-container');
            // Mock data si no hay DB
            c.innerHTML = `
                <div class="product-card">
                    <h3>iPhone 12</h3>
                    <p>Reacondicionado</p>
                    <button class="btn-primary">Consultar</button>
                </div>
                <div class="product-card">
                    <h3>Samsung S21</h3>
                    <p>Nuevo</p>
                    <button class="btn-primary">Consultar</button>
                </div>`;
            
            // Intento de carga real
            db.collection("productos").limit(10).get().then(snap => {
                if(!snap.empty) {
                    c.innerHTML = "";
                    snap.forEach(doc => {
                        const p = doc.data();
                        c.innerHTML += `
                            <div class="product-card">
                                ${p.img ? `<img src="${p.img}" class="product-photo">` : ''}
                                <h3>${p.marca} ${p.modelo}</h3>
                                <p>${p.precio}‚Ç¨</p>
                                <button class="btn-primary" onclick="window.open('https://wa.me/${MI_TELEFONO}?text=Interesado en ${p.marca} ${p.modelo}')">Ver</button>
                            </div>`;
                    });
                }
            });
        }

        // 6. FUNCIONES DE CONTACTO
        function enviarLead(e, asunto) {
            e.preventDefault();
            const url = `https://wa.me/${MI_TELEFONO}?text=Hola, contacto desde la web por: ${asunto}`;
            window.open(url, '_blank');
        }

        function verificarAdmin() {
            const pass = document.getElementById('adminPassInput').value;
            if(pass === "admin123") { // Cambia esto por tu contrase√±a
                cerrarModal('admin-login-modal');
                document.getElementById('admin-panel').classList.remove('hidden');
            } else {
                alert("Contrase√±a incorrecta");
            }
        }
        
        function verAdminTab(tab) {
             // L√≥gica simple para pesta√±as de admin
             document.getElementById('admin-tab-teleco').style.display = tab === 'teleco' ? 'block' : 'none';
        }

        // 7. ARRANQUE
        window.onload = function() {
            setTimeout(() => {
                document.getElementById('welcome-screen').style.display = 'none';
            }, 2000);
            
            // Listeners para guardar datos (Admin)
            document.getElementById('addFolderForm')?.addEventListener('submit', (e) => {
                e.preventDefault();
                const nombre = document.getElementById('folderName').value;
                db.collection('telecom_carpetas').add({nombre: nombre}).then(() => alert("Carpeta creada"));
            });

            document.getElementById('addOfferForm')?.addEventListener('submit', (e) => {
                e.preventDefault();
                db.collection('telecom_ofertas').add({
                    folderId: document.getElementById('offerFolderSelect').value,
                    titulo: document.getElementById('offerTitle').value,
                    precio: document.getElementById('offerPrice').value,
                    fecha: new Date().toISOString()
                }).then(() => alert("Oferta creada"));
            });
        };
    </script>
</body>
</html>
